version: 2

models:
  - name: fact_orderline
    columns:
      - name: orderline_id
        tests:
          - unique
          - not_null
      - name: time_id
        tests:
          - relationships:
              to: ref('orderline_dim_time')
              field: time_id
          - not_null
      - name: customer_id
        tests:
          - relationships:
              to: ref('orderline_dim_customer')
              field: customer_id
          - not_null
      - name: payment_id
        tests:
          - relationships:
              to: ref('orderline_dim_payment')
              field: payment_id
          - not_null
      - name: product_id
        tests:
          - relationships:
              to: ref('orderline_dim_product')
              field: product_id
          - not_null
      - name: quantity
        tests:
          - not_null

  
  - name: fact_productsale
    columns:
      - name: product_id
        tests:
          - relationships:
              to: ref('productsale_dim_product')
              field: product_id
          - not_null
      - name: payment_id
        tests:
          - relationships:
              to: ref('productsale_dim_payment')
              field: payment_id
          - not_null
      - name: customer_id
        tests:
          - relationships:
              to: ref('productsale_dim_customer')
              field: customer_id
          - not_null
      - name: review_id
        tests:
          - relationships:
              to: ref('productsale_dim_review')
              field: review_id
          - not_null
      - name: supplier_id
        tests:
          - relationships:
              to: ref('productsale_dim_supplier')
              field: supplier_id
          - not_null

  
  - name: orderline_dim_time
    columns:
      - name: time_id
        tests:         
          - not_null

  
  - name: orderlne_dim_customer
    columns:
      - name: customer_id
        tests:
          - not_null

  
  - name: orderline_dim_payment
    columns:
      - name: payment_id
        tests:
          - not_null

  
  - name: orderline_dim_product
    columns:
      - name: product_id
        tests:
          - not_null

  
  - name: productsale_dim_product
    columns:
      - name: product_id
        tests:
          - not_null

  
  - name: productsale_dim_payment
    columns:
      - name: payment_id
        tests:
          - not_null

  
  - name: productsale_dim_customer
    columns:
      - name: customer_id
        tests:
          - not_null

  
  - name: productsale_dim_review
    columns:
      - name: review_id
        tests:
          - not_null

  
  - name: productsale_dim_supplier
    columns:
      - name: supplier_id
        tests:
          - not_null
